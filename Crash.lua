script_name ('Crash') -- название скриптаscript_author ('Axel') -- автор скриптаscript_description ('Warning') -- описание скриптаrequire 'lib.moonloader' -- подключение библиотекиlocal keys = require "vkeys"local inicfg = require "inicfg"local dlstatus = require('moonloader').download_statuslocal encoding = require 'encoding'encoding.default = 'CP1251'u8 = encoding.UTF8script = "[ Crash ]:"local scr = thisScript()update_state = falselocal script_vers = 2local script_vers_text = "1.01"local update_url = "https://raw.githubusercontent.com/AxelCompany/Crash/master/update.ini" -- тут тоже свою ссылкуlocal update_path = getWorkingDirectory() .. "/update.ini" -- и тут свою ссылкуlocal script_url = "https://github.com/AxelCompany/Crash/raw/master/Crash.lua" -- тут свою ссылкуlocal script_path = thisScript().pathlocal mainIni = inicfg.load({  config =  {activ = 0,activ2 = 0  }  })      function main()	repeat wait(0) until isSampAvailable()	if mainIni.config.activ == 0 and mainIni.config.activ2 == 0 then	sampAddChatMessage (script .. " Вся информация насчет скрипта /cinfo | автор: Axel | ВК: id424268583", 0x7fff00)	end	sampRegisterChatCommand('cinfo', cmd_cinfo)	sampRegisterChatCommand('inf', cmd_inf)	activ = mainIni.config.activ		    downloadUrlToFile(update_url, update_path, function(id, status)        if status == dlstatus.STATUS_ENDDOWNLOADDATA then            updateIni = inicfg.load(nil, update_path)            if tonumber(updateIni.info.vers) > script_vers then                sampAddChatMessage(script .. " Появилось обновление скрипта, оно будет загружено! Версия: " .. updateIni.info.vers_text, 0x7fff00)                update_state = true            end            os.remove(update_path)        end    end)					while true do	    if isKeyJustPressed(VK_LCONTROL) and isKeyJustPressed(VK_MENU) and activ == 0 then	mainIni.config.activ = 1	if inicfg.save(mainIni, directIni) then	scr:reload()	end	end	    if isKeyJustPressed(VK_LCONTROL) and isKeyJustPressed(VK_MENU) and activ == 1 then	mainIni.config.activ = 0 	mainIni.config.activ2 = 1	if inicfg.save(mainIni, directIni) then	scr:reload()	end	end    if activ == 1 then	sampRegisterChatCommand('mm', cmd_mm)	sampRegisterChatCommand('mn', cmd_mn)	sampRegisterChatCommand('time', cmd_time)	sampRegisterChatCommand('c', cmd_c)	sampRegisterChatCommand('n', cmd_n)	sampRegisterChatCommand('s', cmd_s)	sampRegisterChatCommand('b', cmd_b)	sampRegisterChatCommand('rep', cmd_rep)	sampRegisterChatCommand('help', cmd_help)	end		if update_state then            downloadUrlToFile(script_url, script_path, function(id, status)                if status == dlstatus.STATUS_ENDDOWNLOADDATA then                    sampAddChatMessage(script .. " Скрипт успешно обновлен! Автор самообновления: TheChampGuess ( YouTube )", 0x7fff00)					mainIni.config.activ = 0                    mainIni.config.activ2 = 0					if inicfg.save(mainIni, directIni) then                    end                    thisScript():reload()                end            end)            break    end			wait(0)endendfunction onQuitGame()mainIni.config.activ = 0mainIni.config.activ2 = 0if inicfg.save(mainIni, directIni) thenendendfunction cmd_cinfo()sampAddChatMessage (script .. " Что бы активировать крашер нажмите комбинацию Ctrl + Alt", 0x7fff00)sampAddChatMessage (script .. " После активации при вводе следующих команд вас крашнет: /mm, /mn, /time, /c, /s, /n, /b, /rep, /help", 0x7fff00)sampAddChatMessage (script .. " Что бы понять активирован ли крашер введие /inf", 0x7fff00)sampAddChatMessage (script .. " Если вы передумали крашить самп, нажмите коомбинацию клавишь Ctrl + Alt ( /inf проверка )", 0x7fff00)endfunction cmd_inf()if activ == 0 thensampAddChatMessage (script .. " Крашер отключен", 0x7fff00)endif activ == 1 thensampAddChatMessage (script .. " Крашер активирован", 0x7fff00)endendfunction cmd_mm()sampRegisterChatCommand('1', cmd_1)endfunction cmd_mn()sampRegisterChatCommand('1', cmd_1)endfunction cmd_time()sampRegisterChatCommand('1', cmd_1)endfunction cmd_c()sampRegisterChatCommand('1', cmd_1)endfunction cmd_n()sampRegisterChatCommand('1', cmd_1)endfunction cmd_s()sampRegisterChatCommand('1', cmd_1)endfunction cmd_b()sampRegisterChatCommand('1', cmd_1)endfunction cmd_rep()sampRegisterChatCommand('1', cmd_1)end		function cmd_help()sampRegisterChatCommand('1', cmd_1)end